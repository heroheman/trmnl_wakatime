
<!-- import Highcharts + Chartkick libraries -->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartkick@5.0.1/dist/chartkick.min.js"></script>

<!-- Wakatime Dashboard -->
<div class="view view--full">
  <div class="layout layout--col gap--space-between">

    {% render 'dashboard_horizontal' 
        selected_metrics: trmnl.plugin_settings.custom_fields_values.dashboard_metrics,
        valueFit: false,
        data: data
    %}


    <!-- Chart Container -->
    {% assign selected_layout = trmnl.plugin_settings.custom_fields_values.layout | default: 'lines' | downcase %}
    {% if selected_layout == 'contributions' %}
      <!-- GitHub-style Contributions Grid -->
      {% render 'contributions_grid', data: data %}
    {% else %}
      {% render 'wakatime_charts', 
        data: data,
        selected_timeframe: trmnl.plugin_settings.custom_fields_values.timeframe,
        selected_layout: trmnl.plugin_settings.custom_fields_values.layout,
        enable_grouping: trmnl.plugin_settings.custom_fields_values.enable_grouping,
        chart_height: 260,
        show_x_axis_labels: 'true',
       %}
        {% comment %} show_x_axis_labels: trmnl.plugin_settings.custom_fields_values.show_x_axis_labels {% endcomment %}
    {% endif %}
  </div>

  <div class="title_bar">
    <img class="image" src="https://wakatime.com/static/img/wakatime.svg" />
    <span class="title">WakaTime</span>
    <span class="instance">Coding Activity</span>
  </div>
</div>
