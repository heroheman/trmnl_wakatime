<!-- WakaTime Half Horizontal Layout -->
  <div class="layout layout--col layout--start gap--space-between">
    
    <div class="mb--2">
      {% render 'dashboard_horizontal' 
          selected_metrics: trmnl.plugin_settings.custom_fields_values.dashboard_metrics | default: ["today", "this_week", "this_month", "last_year"],
          valueFit: true,
          data: data,
          metric_limit: 10,
          one_line: true
      %} 
    </div>


    {% assign selected_layout = trmnl.plugin_settings.custom_fields_values.layout_half_horizontal | default: 'lines' | downcase %}
    {% if selected_layout == 'contributions' %}
      {% render 'contributions_grid', data: data, show_contributions_legend: trmnl.plugin_settings.custom_fields_values.show_contributions_legend, size: 'half' %}
    {% else %}
      {% render 'wakatime_charts', 
        chart_height: 200,
        data: data,
        selected_timeframe: trmnl.plugin_settings.custom_fields_values.timeframe,
        selected_layout: selected_layout,
        enable_grouping: trmnl.plugin_settings.custom_fields_values.enable_grouping,
        show_x_axis_labels: trmnl.plugin_settings.custom_fields_values.show_x_axis_labels,
        show_y_axis_labels: trmnl.plugin_settings.custom_fields_values.show_y_axis_labels,
        date_format: trmnl.plugin_settings.custom_fields_values.date_format | default: '%d.%m'
       %}
    {% endif %}
        {% comment %} show_x_axis_labels: trmnl.plugin_settings.custom_fields_values.show_x_axis_labels {% endcomment %}
  </div>

  {% if trmnl.plugin_settings.custom_fields_values.show_title_bar == 'true' %}
    {% render 'wakatime_title_bar' %}
  {% endif %}
